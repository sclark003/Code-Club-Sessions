<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Session 48: File Handling Basics - Code Club</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <header class="session-header">
    <div class="container">
      <h1>Session 48: File Handling Basics</h1>
      <p>Reading from and writing to files</p>
      <div class="session-nav">
        <a href="../index.html">‚Üê Back to Home</a>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="session-content">
      <h2>üéØ Learning Goals</h2>
      <ul>
        <li>Learn to read data from files</li>
        <li>Learn to write data to files</li>
        <li>Understand different file modes</li>
        <li>Handle files safely with proper error handling</li>
      </ul>

      <h2>üìã What You'll Need</h2>
      <ul>
        <li>Python installed on your computer</li>
        <li>Python IDLE or a text editor</li>
      </ul>

      <h2>üöÄ Activity 1: Writing to a File</h2>
      
      <div class="step">
        <span class="step-number">Step 1:</span> Use <code>open()</code> to create or open a file, then write to it:
        <pre><code># Create and write to a file
file = open("my_file.txt", "w")
file.write("Hello, World!\n")
file.write("This is my first file.\n")
file.write("Python is fun!")
file.close()

print("File written successfully!")</code></pre>
      </div>

      <div class="step">
        <span class="step-number">Step 2:</span> The <code>"w"</code> mode means "write" - it creates a new file or overwrites an existing one
      </div>

      <div class="tip">
        Always close files when you're done! The <code>\n</code> creates a new line.
      </div>

      <h2>üíª Activity 2: Reading from a File</h2>

      <div class="step">
        <span class="step-number">Step 1:</span> Read from a file using <code>"r"</code> mode (read):
        <pre><code># Read the entire file
file = open("my_file.txt", "r")
content = file.read()
print(content)
file.close()</code></pre>
      </div>

      <div class="step">
        <span class="step-number">Step 2:</span> Read line by line:
        <pre><code>file = open("my_file.txt", "r")
for line in file:
    print(line.strip())  # strip() removes newline characters
file.close()</code></pre>
      </div>

      <div class="step">
        <span class="step-number">Step 3:</span> Or read all lines into a list:
        <pre><code>file = open("my_file.txt", "r")
lines = file.readlines()
for line in lines:
    print(line.strip())
file.close()</code></pre>
      </div>

      <h2>üé® Activity 3: Using 'with' Statement</h2>

      <div class="step">
        <span class="step-number">Step 1:</span> The <code>with</code> statement automatically closes the file - it's safer!
        <pre><code># Writing
with open("my_file.txt", "w") as file:
    file.write("Line 1\n")
    file.write("Line 2\n")
    file.write("Line 3\n")
# File is automatically closed here

# Reading
with open("my_file.txt", "r") as file:
    content = file.read()
    print(content)
# File is automatically closed here</code></pre>
      </div>

      <div class="step">
        <span class="step-number">Step 2:</span> Always use <code>with</code> when working with files - it's the best practice!
      </div>

      <h2>üìä Activity 4: Appending to Files</h2>

      <div class="step">
        <span class="step-number">Step 1:</span> Use <code>"a"</code> mode to append (add to the end) instead of overwriting:
        <pre><code># First, write some content
with open("diary.txt", "w") as file:
    file.write("Day 1: Started learning Python!\n")

# Later, append more content
with open("diary.txt", "a") as file:
    file.write("Day 2: Learned about files!\n")
    file.write("Day 3: Making great progress!\n")

# Read it back
with open("diary.txt", "r") as file:
    print(file.read())</code></pre>
      </div>

      <h2>üéØ Activity 5: File Modes</h2>

      <div class="step">
        <span class="step-number">Step 1:</span> Different file modes:
        <pre><code># "r" - Read (file must exist)
# "w" - Write (creates new or overwrites existing)
# "a" - Append (adds to end, creates if doesn't exist)
# "x" - Create (only if file doesn't exist, error if it does)

# You can also add "b" for binary mode or "+" for read+write
# "r+" - Read and write
# "w+" - Write and read (overwrites)</code></pre>
      </div>

      <h2>üåü Activity 6: Practical Example</h2>

      <div class="step">
        <span class="step-number">Step 1:</span> Create a simple note-taking program:
        <pre><code>print("Simple Note Taker")
print("=" * 20)

while True:
    print("\n1. Add note")
    print("2. View notes")
    print("3. Quit")
    
    choice = input("Choose an option: ")
    
    if choice == "1":
        note = input("Enter your note: ")
        with open("notes.txt", "a") as file:
            file.write(note + "\n")
        print("Note saved!")
    
    elif choice == "2":
        try:
            with open("notes.txt", "r") as file:
                print("\nYour notes:")
                print("-" * 20)
                for line in file:
                    print(line.strip())
        except FileNotFoundError:
            print("No notes yet!")
    
    elif choice == "3":
        break</code></pre>
      </div>

      <h2>üìã Complete Example Program</h2>
      
      <div class="step">
        <span class="step-number">Example:</span> Here's a complete grade management program:
        <pre><code># grade_manager.py
# A program to manage student grades using files

import json

GRADES_FILE = "grades.json"

def load_grades():
    """Load grades from file"""
    try:
        with open(GRADES_FILE, 'r') as file:
            return json.load(file)
    except FileNotFoundError:
        return {}

def save_grades(grades):
    """Save grades to file"""
    with open(GRADES_FILE, 'w') as file:
        json.dump(grades, file, indent=2)

def display_menu():
    """Display the main menu"""
    print("\n" + "=" * 40)
    print("Grade Management System")
    print("=" * 40)
    print("1. Add/Update student grade")
    print("2. View all grades")
    print("3. View specific student")
    print("4. Calculate average grade")
    print("5. Remove student")
    print("6. Quit")
    print("=" * 40)

def calculate_average(grades):
    """Calculate average of all grades"""
    if not grades:
        return 0
    total = sum(grades.values())
    return total / len(grades)

# Main program
grades = load_grades()

while True:
    display_menu()
    choice = input("Choose an option (1-6): ")
    
    if choice == "1":
        name = input("Enter student name: ")
        try:
            grade = float(input("Enter grade (0-100): "))
            if 0 <= grade <= 100:
                grades[name] = grade
                save_grades(grades)
                print(f"Grade saved for {name}!")
            else:
                print("Grade must be between 0 and 100!")
        except ValueError:
            print("Please enter a valid number!")
    
    elif choice == "2":
        if not grades:
            print("\nNo grades recorded yet!")
        else:
            print("\n" + "=" * 40)
            print("All Grades")
            print("=" * 40)
            for name, grade in sorted(grades.items()):
                print(f"{name:20} {grade:6.1f}")
            print("=" * 40)
    
    elif choice == "3":
        name = input("Enter student name: ")
        if name in grades:
            print(f"\n{name}'s grade: {grades[name]}")
        else:
            print(f"Student '{name}' not found!")
    
    elif choice == "4":
        if not grades:
            print("No grades to calculate average!")
        else:
            average = calculate_average(grades)
            print(f"\nAverage grade: {average:.2f}")
            print(f"Total students: {len(grades)}")
    
    elif choice == "5":
        name = input("Enter student name to remove: ")
        if name in grades:
            del grades[name]
            save_grades(grades)
            print(f"Removed {name} from records!")
        else:
            print(f"Student '{name}' not found!")
    
    elif choice == "6":
        print("\nSaving data...")
        save_grades(grades)
        print("Goodbye!")
        break
    
    else:
        print("Invalid choice. Please try again.")</code></pre>
      </div>

      <div class="step">
        <span class="step-number">Example Run:</span>
        <pre><code>========================================
Grade Management System
========================================
1. Add/Update student grade
2. View all grades
3. View specific student
4. Calculate average grade
5. Remove student
6. Quit
========================================
Choose an option (1-6): 1
Enter student name: Sarah
Enter grade (0-100): 85
Grade saved for Sarah!

Choose an option (1-6): 1
Enter student name: Alex
Enter grade (0-100): 92
Grade saved for Alex!

Choose an option (1-6): 2

========================================
All Grades
========================================
Alex                   92.0
Sarah                  85.0
========================================

Choose an option (1-6): 4

Average grade: 88.50
Total students: 2

Choose an option (1-6): 6

Saving data...
Goodbye!</code></pre>
      </div>

      <div class="challenge">
        Create a program that:
        <ul>
          <li>Asks for student names and grades</li>
          <li>Saves them to a file</li>
          <li>Can read and display all students and their grades</li>
          <li>Calculates and displays the average grade</li>
        </ul>
        <p><strong>Example solution:</strong></p>
        <pre><code># student_grades.py
grades = {}

# Add grades
while True:
    name = input("Student name (or 'done' to finish): ")
    if name.lower() == 'done':
        break
    grade = float(input(f"Grade for {name}: "))
    grades[name] = grade

# Save to file
with open("grades.txt", "w") as file:
    for name, grade in grades.items():
        file.write(f"{name}: {grade}\n")

# Read and display
print("\nAll grades:")
with open("grades.txt", "r") as file:
    for line in file:
        print(line.strip())

# Calculate average
if grades:
    average = sum(grades.values()) / len(grades)
    print(f"\nAverage grade: {average:.2f}")</code></pre>
      </div>

      <h2>üí° Key Concepts</h2>
      <ul>
        <li><strong>File:</strong> A collection of data stored on disk</li>
        <li><strong>open():</strong> Function to open or create a file</li>
        <li><strong>File modes:</strong> "r" (read), "w" (write), "a" (append)</li>
        <li><strong>write():</strong> Method to write data to a file</li>
        <li><strong>read():</strong> Method to read all content from a file</li>
        <li><strong>readlines():</strong> Method to read all lines into a list</li>
        <li><strong>with statement:</strong> Automatically closes files (best practice)</li>
        <li><strong>close():</strong> Method to close a file (important!)</li>
      </ul>

      <h2>üîç What's Next?</h2>
      <p>Excellent! You can now work with files. Next session, we'll learn about error handling - how to deal with problems that might occur in your programs!</p>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>Made with ‚ù§Ô∏è for Code Club</p>
    </div>
  </footer>
</body>
</html>
